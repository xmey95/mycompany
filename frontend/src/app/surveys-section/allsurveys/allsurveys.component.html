<div class="page">
  <div class="text-center security-margin-bottom">
    <h1>Tutti i sondaggi</h1>
  </div>
  <div flex fxLayout="row" fxLayout.lt-sm="column" >
    <div fxFlex="66">
      <div *ngIf="!allsurveys || !mysurveys" class="spinner">
        <mat-spinner></mat-spinner>
      </div>
      <div *ngIf="allsurveys && mysurveys">
        <mat-list *ngIf="allsurveys && mysurveys">
          <h3 mat-subheader>Sondaggi</h3>
          <mat-list-item *ngFor="let survey of allsurveys">
            <mat-icon mat-list-icon *ngIf="!isSubmitted(survey.id)">create</mat-icon>
            <mat-icon mat-list-icon *ngIf="isSubmitted(survey.id)">done</mat-icon>
            <h4 mat-line>{{survey.name}}</h4>
            <p mat-line *ngIf="isSubmitted(survey.id)" class="green"> Completato </p>
            <button mat-raised-button color="primary" class="button-survey" (click)="openSurvey(survey.id)">Go</button>
          </mat-list-item>
        </mat-list>
      </div>
    </div>
    <div fxFlex="33">
      <div align="center" *ngIf="allsurveys && mysurveys">
        <h3 id="center">Percentuale completata di sondaggi</h3>
        <circle-progress
        [percent]="percentageSurveysSubmitted()"
        [radius]="100"
        [outerStrokeWidth]="20"
        [innerStrokeWidth]="10"
        [outerStrokeColor]="'#28a745'"
        [innerStrokeColor]="'#C7E596'"
        [animation]="true"
        [showSubtitle]="false"
        [animationDuration]="500"
        [subtitle]="CBD"
        ></circle-progress>
      </div>
    </div>
  </div>
</div>
